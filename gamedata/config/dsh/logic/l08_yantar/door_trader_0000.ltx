; -*- mode: conf-windows; coding: windows-1251-dos -*-
;
; Дверь в бункере Сахарова

[logic]
active = ph_door@locked

[ph_door@locked]
locked = true
closed = true
snd_init = trader_door_unlock
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
on_info = {+yan_find_scientist_done} ph_door@closed, {+yan_bunker_door_1_open -yan_scientist_door_2_open} ph_door@unlocked,{+yan_scientist_door_2_open} ph_door@scientist_locked,{+yan_scientist_door_1_open} ph_door@scientist_unlocked

[ph_door@unlocked]
locked = true
closed = false
snd_init = trader_door_unlock
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
on_info = {-yan_bunker_door_1_open -yan_scientist_door_2_open} ph_door@locked,{+yan_scientist_door_2_open} ph_door@scientist_locked,{+yan_scientist_door_1_open} ph_door@scientist_unlocked
apply_force = 100000

[ph_door@scientist_locked]
locked = true
closed = true
snd_init = trader_door_unlock
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
on_info = {-yan_scientist_door_2_open +yan_scientist_door_1_open} ph_door@scientist_unlocked,{-yan_scientist_door_2_open -yan_scientist_door_1_open} ph_door@locked


[ph_door@scientist_unlocked]
locked = true
closed = false
snd_init = trader_door_unlock
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
on_info = {+yan_scientist_door_2_open -yan_scientist_door_1_open} ph_door@scientist_locked,{-yan_scientist_door_2_open -yan_scientist_door_1_open} ph_door@locked
apply_force = 100000

[ph_door@closed]
locked = true
closed = true
snd_init = trader_door_unlock
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
on_info = {+yan_bunker_door_1_open -yan_scientist_door_2_open} ph_door@opened
disable_vertexes_radius = 1

[ph_door@opened]
locked = true
closed = false
snd_init = trader_door_unlock
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
on_info = {-yan_bunker_door_1_open -yan_scientist_door_2_open} ph_door@closed
apply_force = 100000
