; -*- mode: conf-windows; coding: windows-1251-dos -*-
;
; Муха

[logic]
active = kamp
combat_ignore = combat_ignore

[kamp]
center_point  = devchonka_camp_center
path_walk = devchonka_camp_center_task
radius = 0.4
on_info = {+posadka_pantera_vert} kamp1
combat_ignore_cond = {=fighting_dist_ge(15)}

[kamp1]
center_point  = devchonka1_camp_center
path_walk = devchonka1_camp_center_task
radius = 0.4
on_info = {+kluk_after_razbor_start} walker0
combat_ignore_cond = {=fighting_dist_ge(15)}

[walker0]
path_walk = new0_kluk0_nz_walk
path_look = new0_kluk0_nz_look
on_info = {+kluk_na_1} walker
combat_ignore_cond = {=fighting_dist_ge(15)}

[walker]
path_walk = new1_kluk1_nz_walk
path_look = new1_kluk1_nz_look
on_info = {+kluk_na_2} walker1
combat_ignore_cond = {=fighting_dist_ge(15)}

[walker1]
path_walk = new2_kluk2_nz_walk
path_look = new2_kluk2_nz_look
on_info = {+kluk_na_3} walker2
combat_ignore_cond = {=fighting_dist_ge(15)}

[walker2]
path_walk = new3_kluk3_nz_walk
path_look = new3_kluk3_nz_look
on_info = {+kluk_posled} walker3
combat_ignore_cond = {=fighting_dist_ge(15)}

[walker3]
path_walk = new4_kluk4_nz_walk
path_look = new4_kluk4_nz_look
on_info = {+kluk_na_walk} kamp2
combat_ignore_cond = {=fighting_dist_ge(15)}

[kamp2]
center_point  = aver_otshelnik_camp_center
path_walk = aver_otshelnik_camp_center_task
radius = 2.2
combat_ignore_cond = {=fighting_dist_ge(15)}
on_info = {+muha_talk_pro_art} kamp5
on_signal = endpoint | kamp3

[kamp3]
center_point  = aver_otshelnik_camp_center
path_walk = aver_otshelnik_camp_center_task
radius = 2.2
combat_ignore_cond = {=fighting_dist_ge(15)}
on_actor_dist_le_nvis = 25 | kamp4 %+kluk_after_razbor_end =arhara_dialog.pant_proschay_sms4%

[kamp4]
center_point  = aver_otshelnik_camp_center
path_walk = aver_otshelnik_camp_center_task
radius = 2.2
combat_ignore_cond = {=fighting_dist_ge(15)}
on_actor_dist_ge_nvis = 50 | {-muha_talk_pro_art} kamp5 %=arhara_dialog.muha_bazar_sms%
on_info = {+muha_talk_pro_art} kamp5

[kamp5]
center_point  = aver_otshelnik_camp_center
path_walk = aver_otshelnik_camp_center_task
radius = 2.2
on_info = {+rebyta_vusadilis} walker4
combat_ignore_cond = {=fighting_dist_ge(15)}

[walker4]
path_walk = devchonka_walk
path_look = devchonka_look
on_info = {+moy_zona} remark %+mly_ona_mehy_dostala =arhara_dialog.dosvidanie_devchonka%
combat_ignore_cond = {=fighting_dist_ge(10)}

[remark]
anim = hello_wpn
target = actor
danger = danger_ignore
;on_info = {+nadoela_start} %+ona_uletela%
meet = no_meet
combat_ignore_cond = {=fighting_dist_ge(5)}
on_timer = 6000 | walker5 %+nadoela_start +ona_uletela%

[walker5]
path_walk = devchonka1_walk
path_look = devchonka1_look
on_signal = endpoint | nil %+vert_otchalil =arhara_dialog.dell_devchonka%
combat_ignore_cond = always
