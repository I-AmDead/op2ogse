; -*- mode: conf-windows; coding: windows-1251-dos -*-
;
; Злобный на НЗ

[logic]
active = walker
on_hit = hit
on_death = death
combat_ignore = combat_ignore

[walker]
path_walk = aver_zlobnuy_walk
path_look = aver_zlobnuy_look
on_actor_dist_le = 100 | walker3 %+proval_strelki +zlobnuy_othod =arhara_dialog.del_strelka_mesto_restr%
on_actor_dist_le_nvis = 2 | walker3 %+proval_strelki +zlobnuy_othod =arhara_dialog.del_strelka_mesto_restr%
meet = no_meet
combat_ignore_cond = {-proval_strelki =fighting_dist_ge(5)}
on_signal = endpoint | walker2 %=arhara_dialog.sms_razgovor_sxod_nz%

[walker2]
path_walk = aver_zlobnuy_walk
path_look = aver_zlobnuy_look
on_info = {+zlobnuy_othod} walker1
on_info2 = {+proval_strelki} walker3 %+zlobnuy_othod =arhara_dialog.del_strelka_mesto_restr%
on_actor_dist_le = 100 | walker3 %+proval_strelki +zlobnuy_othod =arhara_dialog.del_strelka_mesto_restr%
on_actor_dist_le_nvis = 2 | walker3 %+proval_strelki +zlobnuy_othod =arhara_dialog.del_strelka_mesto_restr%
def_state_standing = ward
meet = no_meet
combat_ignore_cond = {-proval_strelki =fighting_dist_ge(5)}

[walker1]
path_walk = aver2_odnonogiy2_walk
path_look = aver2_odnonogiy2_look
on_actor_dist_le = 100 | walker3 %+proval_strelki +zlobnuy_othod =arhara_dialog.del_strelka_mesto_restr%
on_actor_dist_le_nvis = 2 | walker3 %+proval_strelki +zlobnuy_othod =arhara_dialog.del_strelka_mesto_restr%
meet = no_meet
combat_ignore_cond = {-proval_strelki =fighting_dist_ge(5)}
on_signal = endpoint | %=dsh.release_alive_npc%

[walker3]
path_walk = aver2_odnonogiy2_walk
path_look = aver2_odnonogiy2_look
meet = no_meet
on_signal = endpoint | %=dsh.release_alive_npc%

[hit]
on_info = {=hit_by_actor} %+proval_strelki +zlobnuy_othod =arhara_dialog.del_strelka_mesto_restr%

[death]
on_info = {=killed_by_actor} %+proval_strelki +zlobnuy_othod =arhara_dialog.del_strelka_mesto_restr%
